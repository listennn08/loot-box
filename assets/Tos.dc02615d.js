var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,i=(e,a)=>{for(var l in a||(a={}))s.call(a,l)&&n(e,l,a[l]);if(t)for(var l of t(a))r.call(a,l)&&n(e,l,a[l]);return e};import{k as o,l as c,m as d,u,h as p,e as v,f as m,F as b,n as h,p as f,g,t as y,q as k,s as w,o as I,v as x,x as j,y as O,z as P,T as S,A as C}from"./vendor.ceb8f84d.js";import{i as A,g as _}from"./share.05e5a537.js";class N{constructor(e,a){this.bIsSkip=!1,this.delay=0,this.timer=0,this.cb=e,this.delay=a}setInterval(){this.timer=setInterval((()=>{this.bIsSkip&&clearInterval(this.timer),this.cb()}),this.delay)}skip(){this.bIsSkip=!0}}const M=[{p:1.25,level:"5星英雄"},{p:4.5,level:"4星英雄"},{p:41,level:"3星英雄"},{p:.15,level:"月光5星"},{p:.5,level:"月光4星"},{p:4.35,level:"月光3星"},{p:1.75,level:"5星神器"},{p:6.5,level:"4星神器"},{p:40,level:"3星神器"}];function T(){const e=u().state.cards,t=o([]),s=c(1),r=c(!1),n=c(!1),p=c(!1),v=d((()=>p.value?Math.random().toString(36).substring(2,9):"")),m=d((()=>e=>e.includes("英雄")||e.includes("月光")?"heros":"artifacts"));return{randomId:v,typeCheck:m,imgPath:A,drawTime:s,hasIgnoreAnimate:p,drawing:r,skip:n,displayCards:t,getNumber:_,draw:()=>{t.slice(0,t.length);const o=M.map((e=>Array.from({length:1e3*e.p}).fill(e.p))).flat();let c=0;const d=[];for(;c<s.value;){const t=o.sort((()=>Math.random()-.5))[0],{level:s}=M[M.findIndex((e=>e.p===t))],r=e[e.findIndex((e=>e.level===s))].card.sort((()=>Math.random()-.5))[0],n=(u=i({},r),a(u,l({level:s})));d.push(n),c+=1}var u;p.value?t.push(...d):(t.push(d.shift()),s.value>1&&(r.value=!0,(e=>{const a=new N((()=>{t.push(e.shift()),!n.value&&e.length||(0!==e.length&&t.push(...e),r.value=!1,n.value=!1,clearInterval(a.timer))}),500);a.setInterval()})(d)))}}}k("data-v-740947a0");const q={class:"img-outside py-1"},D={class:"card"},U=m("br",null,null,-1);w();var V=p({props:{card:{type:Object,required:!0}},setup(e){const{imgPath:a,typeCheck:l,getNumber:t}=T();return(s,r)=>(I(),v("div",q,[m("div",{class:"img-container mb-6",style:{backgroundImage:`url('${f(a)(f(l)(e.card.level),e.card.imgName)}')`}},[m("div",D,[(I(!0),v(b,null,h(f(t)(e.card.level),(e=>(I(),v("span",{key:e,class:"material-icons text-sm text-yellow-300"}," star ")))),128)),U,g(" "+y(e.card.name),1)])],4)]))}});V.__scopeId="data-v-740947a0";const $=C();k("data-v-5d2cc7e2");const z={class:"container-fluid mx-auto"},E={class:"w-100"},F=m("option",{value:"1"},"1",-1),B=m("option",{value:"10"},"10",-1),G=m("br",null,null,-1),H={class:"custon-checkbox mb-1"},J=m("label",{for:"ignore"}," Skip Animate ",-1),K=m("br",null,null,-1);w();var L=p({setup(e){const{drawTime:a,hasIgnoreAnimate:l,drawing:t,skip:s,displayCards:r,randomId:n,draw:i,getNumber:o}=T();return(e,n)=>{const c=V;return I(),v("div",z,[m("div",E,[x(m("select",{class:"selector mb-2","onUpdate:modelValue":n[1]||(n[1]=e=>O(a)?a.value=e:null)},[F,B],512),[[j,f(a)]]),G,m("div",H,[x(m("input",{type:"checkbox",id:"ignore",class:"form-custon h-3 w-3","onUpdate:modelValue":n[2]||(n[2]=e=>O(l)?l.value=e:null)},null,512),[[P,f(l)]]),J]),m("button",{class:"btn btn-green mb-10 mx-1",onClick:n[3]||(n[3]=(...e)=>f(i)&&f(i)(...e)),disabled:f(t)}," Draw ",8,["disabled"]),m("button",{class:"btn btn-green mb-10 mx-1",onClick:n[4]||(n[4]=e=>s.value=!0)}," Skip "),K,m(S,{class:"flex flex-row flex-wrap md:flex-row justify-center",name:"list",tag:"div"},{default:$((()=>[(I(!0),v(b,null,h(f(r),((e,a)=>(I(),v("div",{class:["list-item",{moon:(null==e?void 0:e.level.includes("月光"))&&f(o)(null==e?void 0:e.level)>3,"star-5":5===f(o)(null==e?void 0:e.level)}],key:`${a}`},[m(c,{card:e},null,8,["card"])],2)))),128))])),_:1})])])}}});L.__scopeId="data-v-5d2cc7e2";export default L;
